<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FCM Web Token Generator</title>
    <script type="module">
        import { showToken } from './js/functions.js';

        const button = document.querySelector("button");
        button.addEventListener("click", () => {
            Notification.requestPermission().then(permission => {
                if (permission === "granted") {
                    console.log("Permiso de notificación concedido.");
                    showToken();
                } else {
                    console.warn("Permiso de notificación denegado.");
                }
            });
        });
    </script>
</head>

<body>
    <h1>Generador de token FCM (Web)</h1>
    <p>Copia este token y pégalo en tu backend para pruebas:</p>
    <textarea id="token" cols="80" rows="6" readonly></textarea>
    <p></p>
    <button type="button">
        Otorgar permiso de notificación </button>
</body>

</html>